<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sync D·ªØ Li·ªáu 2 NƒÉm - FinSensei AI</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn {
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            margin: 10px;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .btn.sync {
            background: linear-gradient(45deg, #dc2626, #b91c1c);
            font-size: 20px;
            padding: 25px 50px;
            box-shadow: 0 10px 30px rgba(220, 38, 38, 0.3);
        }
        .btn.test {
            background: linear-gradient(45deg, #10b981, #059669);
            padding: 10px 20px;
            font-size: 14px;
        }
        .result {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .success { color: #10b981; font-weight: bold; }
        .error { color: #ef4444; font-weight: bold; }
        .warning { color: #f59e0b; font-weight: bold; }
        .info { color: #3b82f6; }
        .highlight { color: #fbbf24; font-weight: bold; }
        .progress {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 15px 0;
        }
        .progress-fill {
            background: linear-gradient(45deg, #dc2626, #b91c1c);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(220, 38, 38, 0.5);
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .urgent {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.2), rgba(185, 28, 28, 0.1));
            border: 2px solid rgba(220, 38, 38, 0.4);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 10px 30px rgba(220, 38, 38, 0.2);
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .stat-label {
            font-size: 13px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .feature-list {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .feature-list h3 {
            color: #fbbf24;
            margin-bottom: 15px;
        }
        .feature-list ul {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .feature-list li:last-child {
            border-bottom: none;
        }
        .feature-list li::before {
            content: "‚úÖ ";
            margin-right: 10px;
        }
        .warning-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Sync D·ªØ Li·ªáu 2 NƒÉm - FinSensei AI</h1>
        <p>ƒê·ªìng b·ªô d·ªØ li·ªáu gi√° c·ªï phi·∫øu 730 ng√†y (2 nƒÉm) t·ª´ SSI API</p>

        <div class="urgent">
            <h2>‚ö° SYNC D·ªÆ LI·ªÜU 2 NƒÇM</h2>
            <p style="font-size: 18px; margin: 20px 0;">L·∫•y d·ªØ li·ªáu 730 ng√†y cho ph√¢n t√≠ch s√¢u v√† xu h∆∞·ªõng d√†i h·∫°n</p>
            <button class="btn sync" onclick="start2YearSync()" id="syncBtn">
                üî• B·∫ÆT ƒê·∫¶U SYNC 2 NƒÇM
            </button>
            <div class="warning-box">
                <strong>‚ö†Ô∏è L∆∞u √Ω:</strong> Sync 2 nƒÉm s·∫Ω m·∫•t 15-25 ph√∫t v√† t·∫°o ~50,000+ b·∫£n ghi d·ªØ li·ªáu
            </div>
        </div>

        <div class="feature-list">
            <h3>üéØ L·ª£i √≠ch c·ªßa d·ªØ li·ªáu 2 nƒÉm:</h3>
            <ul>
                <li>Ph√¢n t√≠ch xu h∆∞·ªõng d√†i h·∫°n ch√≠nh x√°c h∆°n</li>
                <li>X√°c ƒë·ªãnh support/resistance m·∫°nh t·ª´ l·ªãch s·ª≠</li>
                <li>ƒê√°nh gi√° volatility qua c√°c chu k·ª≥ th·ªã tr∆∞·ªùng</li>
                <li>Backtesting chi·∫øn l∆∞·ª£c ƒë·∫ßu t∆∞ hi·ªáu qu·∫£</li>
                <li>So s√°nh performance gi·ªØa c√°c giai ƒëo·∫°n</li>
                <li>D·ª± ƒëo√°n pattern v√† seasonal trends</li>
            </ul>
        </div>

        <div class="progress" id="progressContainer" style="display: none;">
            <div id="progressText" style="font-size: 16px; font-weight: bold;">ƒêang chu·∫©n b·ªã...</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="progressStats" style="font-size: 14px; opacity: 0.8;">0/0 m√£ c·ªï phi·∫øu ho√†n th√†nh</div>
            <div id="progressTime" style="font-size: 12px; opacity: 0.6; margin-top: 10px;">Th·ªùi gian ∆∞·ªõc t√≠nh: 20 ph√∫t</div>
        </div>

        <div class="stats" id="statsContainer" style="display: none;">
            <div class="stat-card">
                <div class="stat-value" id="totalSymbols">0</div>
                <div class="stat-label">T·ªïng m√£ CP</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="completedSymbols">0</div>
                <div class="stat-label">ƒê√£ ho√†n th√†nh</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalRecords">0</div>
                <div class="stat-label">T·ªïng b·∫£n ghi</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="timeElapsed">0s</div>
                <div class="stat-label">Th·ªùi gian</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avgRecordsPerSymbol">0</div>
                <div class="stat-label">TB/m√£ CP</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="dataSize">0MB</div>
                <div class="stat-label">Dung l∆∞·ª£ng</div>
            </div>
        </div>

        <div id="result" class="result" style="display: none;"></div>

        <div class="feature-list">
            <h3>üìã Sau khi sync xong:</h3>
            <div style="text-align: center; margin: 20px 0;">
                <button class="btn test" onclick="openApp()">üéØ M·ªü FinSensei AI</button>
                <button class="btn test" onclick="testTimeframes()">üìä Test Timeframes</button>
            </div>
            <ol style="padding-left: 20px;">
                <li>M·ªü FinSensei AI v√† hard refresh (Ctrl+F5)</li>
                <li>Ch·ªçn m√£ c·ªï phi·∫øu (VD: VNM, VCB, FPT, HPG)</li>
                <li>Test c√°c khung th·ªùi gian: 1W, 1M, 3M, 6M, 1Y</li>
                <li>Ki·ªÉm tra bi·ªÉu ƒë·ªì hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß d·ªØ li·ªáu</li>
                <li>Xem c√°c ch·ªâ s·ªë k·ªπ thu·∫≠t: MA20, RSI</li>
            </ol>
        </div>
    </div>

    <script>
        const SUPABASE_URL = "https://trbiojajipzpqlnlghtt.supabase.co";
        const SERVICE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRyYmlvamFqaXB6cHFsbmxnaHR0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NjIxODU0MSwiZXhwIjoyMDgxNzk0NTQxfQ.auj1AHSwWifdueryQXXgUHo6hK0uqkJxt_Gizfb6UfU";

        const headers = {
            "apikey": SERVICE_KEY,
            "Authorization": `Bearer ${SERVICE_KEY}`,
            "Content-Type": "application/json",
            "Prefer": "resolution=merge-duplicates,return=minimal"
        };

        // Comprehensive list of VN100 symbols for 2-year sync
        const SYMBOLS_TO_SYNC = [
            // VN30 - Top 30 stocks
            "ACB", "BCM", "BID", "BVH", "CTG", "FPT", "GAS", "GVR", "HDB", "HPG",
            "MBB", "MSN", "MWG", "PLX", "POW", "SAB", "SHB", "SSB", "SSI", "STB",
            "TCB", "TPB", "VCB", "VHM", "VIB", "VIC", "VJC", "VNM", "VPB", "VRE",
            
            // VN70 - Additional popular stocks
            "AAA", "ABR", "ACV", "AGG", "ANV", "APH", "ASM", "ASP", "BAF", "BFC",
            "BMP", "BSI", "BTP", "BWE", "C32", "C47", "CAV", "CII", "CMG", "CMX",
            "CNG", "CRC", "CSM", "CTD", "CTI", "CTR", "CTS", "DCM", "DGC", "DGW",
            "DHC", "DIG", "DPM", "DRC", "DRH", "DTL", "DXG", "DXS", "EIB", "EVF",
            "EVG", "FCM", "FCN", "FRT", "FTS", "GEG", "GMD", "GSP", "GTN", "HAG",
            "HAH", "HCM", "HDC", "HDG", "HHV", "HNG", "HQC", "HSG", "HT1", "HTN",
            "HTV", "HU1", "HU3", "HVN", "IMP", "ITA", "ITD", "ITC", "JVC", "KBC",
            "KDC", "KDH", "KHG", "KMR", "L10", "LAF", "LBM", "LCG", "LCM", "LDG",
            "LGC", "LHG", "LIX", "LPB", "LSS", "MCP", "MDG", "MIG", "MSB", "MSH",
            "NAF", "NAV", "NBC", "NCT", "NHA", "NKG", "NLG", "NNC", "NSC", "NT2",
            "NTL", "NVL", "NVT", "OCB", "OGC", "OPC", "ORS", "PAN", "PC1", "PDN"
        ];

        let startTime;
        let completedCount = 0;
        let totalRecords = 0;
        let failedCount = 0;

        function log(message, type = 'info') {
            const result = document.getElementById('result');
            result.style.display = 'block';
            const timestamp = new Date().toLocaleTimeString('vi-VN');
            result.innerHTML += `<span class="${type}">[${timestamp}] ${message}</span>\n`;
            result.scrollTop = result.scrollHeight;
        }

        function updateProgress(current, total, message) {
            const progressContainer = document.getElementById('progressContainer');
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const progressStats = document.getElementById('progressStats');
            const progressTime = document.getElementById('progressTime');
            
            progressContainer.style.display = 'block';
            
            const percentage = Math.round((current / total) * 100);
            progressFill.style.width = `${percentage}%`;
            progressText.textContent = message;
            progressStats.textContent = `${current}/${total} m√£ c·ªï phi·∫øu ho√†n th√†nh (${percentage}%)`;
            
            // Estimate remaining time
            if (startTime && current > 0) {
                const elapsed = (Date.now() - startTime) / 1000;
                const avgTimePerSymbol = elapsed / current;
                const remaining = Math.round((total - current) * avgTimePerSymbol / 60);
                progressTime.textContent = `C√≤n l·∫°i ∆∞·ªõc t√≠nh: ${remaining} ph√∫t`;
            }
        }

        function updateStats() {
            const statsContainer = document.getElementById('statsContainer');
            statsContainer.style.display = 'grid';
            
            document.getElementById('totalSymbols').textContent = SYMBOLS_TO_SYNC.length;
            document.getElementById('completedSymbols').textContent = completedCount;
            document.getElementById('totalRecords').textContent = totalRecords.toLocaleString('vi-VN');
            
            if (completedCount > 0) {
                const avgRecords = Math.round(totalRecords / completedCount);
                document.getElementById('avgRecordsPerSymbol').textContent = avgRecords;
            }
            
            // Estimate data size (rough calculation)
            const estimatedSizeMB = Math.round((totalRecords * 0.1) / 1024);
            document.getElementById('dataSize').textContent = `${estimatedSizeMB}MB`;
            
            if (startTime) {
                const elapsed = Math.round((Date.now() - startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('timeElapsed').textContent = `${minutes}m ${seconds}s`;
            }
        }

        async function fetchSSIData(symbol) {
            try {
                const endDate = new Date();
                const startDate = new Date();
                startDate.setDate(startDate.getDate() - 730); // 2 years = 730 days
                
                const fromTimestamp = Math.floor(startDate.getTime() / 1000);
                const toTimestamp = Math.floor(endDate.getTime() / 1000);
                
                const url = `https://iboard.ssi.com.vn/dchart/api/history?resolution=D&symbol=${symbol}&from=${fromTimestamp}&to=${toTimestamp}`;
                
                const response = await fetch(url, {
                    headers: {
                        'Accept': 'application/json',
                        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`SSI API error: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.s !== 'ok' || !data.t) {
                    return [];
                }
                
                const prices = [];
                for (let i = 0; i < data.t.length; i++) {
                    const tradingDate = new Date(data.t[i] * 1000).toISOString().split('T')[0];
                    prices.push({
                        symbol: symbol,
                        trading_date: tradingDate,
                        open_price: data.o[i],
                        high_price: data.h[i],
                        low_price: data.l[i],
                        close_price: data.c[i],
                        volume: data.v[i]
                    });
                }
                
                return prices;
                
            } catch (error) {
                throw error;
            }
        }

        async function insertToSupabase(data) {
            if (data.length === 0) return 0;
            
            // Split into smaller batches for better performance
            const batchSize = 200;
            let totalInserted = 0;
            
            for (let i = 0; i < data.length; i += batchSize) {
                const batch = data.slice(i, i + batchSize);
                
                try {
                    const response = await fetch(`${SUPABASE_URL}/rest/v1/stock_prices`, {
                        method: 'POST',
                        headers: headers,
                        body: JSON.stringify(batch)
                    });
                    
                    if (response.ok) {
                        totalInserted += batch.length;
                    } else {
                        const error = await response.text();
                        console.error(`Batch insert error: ${error.substring(0, 100)}`);
                    }
                    
                    // Small delay between batches
                    await new Promise(resolve => setTimeout(resolve, 100));
                    
                } catch (error) {
                    console.error(`Batch insert error: ${error.message}`);
                }
            }
            
            return totalInserted;
        }

        async function start2YearSync() {
            const syncBtn = document.getElementById('syncBtn');
            syncBtn.disabled = true;
            syncBtn.innerHTML = '<span class="loading"></span>ƒêANG SYNC 2 NƒÇM...';
            
            startTime = Date.now();
            completedCount = 0;
            totalRecords = 0;
            failedCount = 0;
            
            log("üöÄ B·∫ÆT ƒê·∫¶U ƒê·ªíNG B·ªò D·ªÆ LI·ªÜU 2 NƒÇM!", 'highlight');
            log(`üìä S·∫Ω sync ${SYMBOLS_TO_SYNC.length} m√£ c·ªï phi·∫øu`, 'info');
            log("üìÖ Kho·∫£ng th·ªùi gian: 730 ng√†y (2 nƒÉm)", 'info');
            log("‚è±Ô∏è ∆Ø·ªõc t√≠nh th·ªùi gian: 20-25 ph√∫t", 'warning');
            log("üéØ M·ª•c ti√™u: ~50,000+ b·∫£n ghi d·ªØ li·ªáu", 'info');
            log("", 'info');
            
            for (let i = 0; i < SYMBOLS_TO_SYNC.length; i++) {
                const symbol = SYMBOLS_TO_SYNC[i];
                
                updateProgress(i, SYMBOLS_TO_SYNC.length, `ƒêang x·ª≠ l√Ω ${symbol} (2 nƒÉm)...`);
                
                try {
                    log(`[${i+1}/${SYMBOLS_TO_SYNC.length}] üìà L·∫•y d·ªØ li·ªáu ${symbol} (730 ng√†y)...`, 'info');
                    
                    const prices = await fetchSSIData(symbol);
                    
                    if (prices.length > 0) {
                        const inserted = await insertToSupabase(prices);
                        totalRecords += inserted;
                        completedCount++;
                        
                        const coverage = Math.round((prices.length / 730) * 100);
                        log(`‚úÖ ${symbol}: ${inserted} b·∫£n ghi (${prices.length} ng√†y, ${coverage}% coverage)`, 'success');
                        
                        // Show date range for verification
                        if (prices.length > 0) {
                            const oldestDate = prices[prices.length - 1].trading_date;
                            const newestDate = prices[0].trading_date;
                            log(`   üìÖ Kho·∫£ng: ${oldestDate} ‚Üí ${newestDate}`, 'info');
                        }
                    } else {
                        failedCount++;
                        log(`‚ö†Ô∏è ${symbol}: Kh√¥ng c√≥ d·ªØ li·ªáu t·ª´ SSI API`, 'warning');
                    }
                    
                } catch (error) {
                    failedCount++;
                    log(`‚ùå ${symbol}: ${error.message}`, 'error');
                }
                
                updateStats();
                
                // Rate limiting - important for 2-year sync!
                await new Promise(resolve => setTimeout(resolve, 1000));
            }
            
            updateProgress(SYMBOLS_TO_SYNC.length, SYMBOLS_TO_SYNC.length, 'HO√ÄN TH√ÄNH 2 NƒÇM!');
            
            const duration = Math.round((Date.now() - startTime) / 1000);
            const minutes = Math.floor(duration / 60);
            const seconds = duration % 60;
            
            log("", 'info');
            log("üéâ ƒê·ªíNG B·ªò 2 NƒÇM HO√ÄN TH√ÄNH!", 'highlight');
            log("", 'info');
            log("üìä T·ªîNG K·∫æT CHI TI·∫æT:", 'highlight');
            log(`  üéØ T·ªïng m√£ c·ªï phi·∫øu: ${SYMBOLS_TO_SYNC.length}`, 'info');
            log(`  ‚úÖ Th√†nh c√¥ng: ${completedCount} m√£`, 'success');
            log(`  ‚ùå Th·∫•t b·∫°i: ${failedCount} m√£`, failedCount > 0 ? 'warning' : 'info');
            log(`  üìà T·ªïng b·∫£n ghi: ${totalRecords.toLocaleString('vi-VN')}`, 'success');
            log(`  üìÖ Kho·∫£ng d·ªØ li·ªáu: 730 ng√†y (2 nƒÉm)`, 'info');
            log(`  ‚è±Ô∏è Th·ªùi gian: ${minutes}m ${seconds}s`, 'info');
            log(`  üíæ Dung l∆∞·ª£ng ∆∞·ªõc t√≠nh: ${Math.round((totalRecords * 0.1) / 1024)}MB`, 'info');
            log("", 'info');
            log("üéØ B√ÇY GI·ªú B·∫†N C√ì TH·ªÇ:", 'highlight');
            log("  1. üöÄ M·ªü FinSensei AI", 'info');
            log("  2. üîÑ Hard refresh (Ctrl+F5)", 'info');
            log("  3. üìä Ch·ªçn m√£ c·ªï phi·∫øu b·∫•t k·ª≥", 'info');
            log("  4. ‚è∞ Test t·∫•t c·∫£ timeframes: 1W, 1M, 3M, 6M, 1Y", 'info');
            log("  5. üìà Ph√¢n t√≠ch xu h∆∞·ªõng d√†i h·∫°n v·ªõi d·ªØ li·ªáu 2 nƒÉm!", 'info');
            
            syncBtn.disabled = false;
            syncBtn.innerHTML = 'üéâ SYNC 2 NƒÇM HO√ÄN TH√ÄNH';
            syncBtn.style.background = 'linear-gradient(45deg, #10b981, #059669)';
        }

        function openApp() {
            window.open('http://localhost:3001', '_blank');
        }

        async function testTimeframes() {
            log("\nüß™ TESTING TIMEFRAMES v·ªõi d·ªØ li·ªáu 2 nƒÉm...", 'highlight');
            
            const testSymbol = 'VNM';
            const timeframes = [
                { name: '1 tu·∫ßn', days: 7, expected: 5 },
                { name: '1 th√°ng', days: 30, expected: 22 },
                { name: '3 th√°ng', days: 90, expected: 65 },
                { name: '6 th√°ng', days: 180, expected: 130 },
                { name: '1 nƒÉm', days: 365, expected: 250 },
                { name: '2 nƒÉm', days: 730, expected: 500 }
            ];
            
            for (const tf of timeframes) {
                try {
                    const response = await fetch(`${SUPABASE_URL}/rest/v1/stock_prices?symbol=eq.${testSymbol}&order=trading_date.desc&limit=${tf.days}`, {
                        headers: {
                            "apikey": SERVICE_KEY.replace('service_role', 'anon'),
                            "Authorization": `Bearer ${SERVICE_KEY.replace('service_role', 'anon')}`,
                            "Content-Type": "application/json"
                        }
                    });
                    
                    const data = await response.json();
                    const coverage = Math.round((data.length / tf.expected) * 100);
                    
                    if (coverage >= 80) {
                        log(`‚úÖ ${tf.name}: ${data.length}/${tf.expected} b·∫£n ghi (${coverage}%)`, 'success');
                    } else if (coverage >= 50) {
                        log(`‚ö†Ô∏è ${tf.name}: ${data.length}/${tf.expected} b·∫£n ghi (${coverage}%)`, 'warning');
                    } else {
                        log(`‚ùå ${tf.name}: ${data.length}/${tf.expected} b·∫£n ghi (${coverage}%)`, 'error');
                    }
                } catch (error) {
                    log(`‚ùå ${tf.name}: L·ªói test - ${error.message}`, 'error');
                }
            }
            
            log("\nüéØ H√£y m·ªü FinSensei AI ƒë·ªÉ test tr·ª±c ti·∫øp!", 'highlight');
        }
    </script>
</body>
</html>